<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Include Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link rel="stylesheet" href="styles.css">
    <script type="module">
    import { initializeApp } from "firebase/app";
    import { getAnalytics } from "firebase/analytics";
    import { getDatabase, ref, push, onValue, update, remove } from "firebase/database";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "firebase/auth";

    const firebaseConfig = {
      apiKey: "AIzaSyAqdAjY9RO2dscyd1KN8_rZknkbDjzCEH4",
      authDomain: "mobile-web-development-5a47e.firebaseapp.com",
      databaseURL: "https://mobile-web-development-5a47e-default-rtdb.firebaseio.com",
      projectId: "mobile-web-development-5a47e",
      storageBucket: "mobile-web-development-5a47e.appspot.com",
      messagingSenderId: "242842353088",
      appId: "1:242842353088:web:4577ee9fb8d3c184ca1c25",
      measurementId: "G-RS2QRQV4FM"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const database = getDatabase(app);
    const auth = getAuth(app);

    // Function to add new data
    function addData(data) {
      const newRef = push(ref(database, 'your_collection'), data);
      // newRef.key contains the unique key generated by Firebase
    }

    // Example usage
    const newData = {
      title: "Create",
      description: "This is a new piece of data."
    };

    addData(newData);

    // Function to fetch and display data
    function fetchData() {
      const dataRef = ref(database, 'your_collection');
      onValue(dataRef, (snapshot) => {
        const data = snapshot.val();
        console.log(data);
        // Update your UI with the retrieved data
      });
    }

    // Example usage
    fetchData();

    // Function to update existing data
    function updateData(key, newData) {
      update(ref(database, `your_collection/${key}`), newData);
    }

    // Example usage
    const dataKeyToUpdate = "-Mabc123";
    const updatedData = {
      title: "Updated Title",
      description: "This data has been updated."
    };

    updateData(dataKeyToUpdate, updatedData);

    // Function to delete data
    function deleteData(key) {
      remove(ref(database, `your_collection/${key}`));
    }

    // Example usage
    const dataKeyToDelete = "your_data_key"; // Replace with the actual key
    deleteData(dataKeyToDelete);

    // Function to sign up a new user
    function signUp(email, password) {
      createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          console.log("User signed up:", user);
        })
        .catch((error) => {
          console.error("Sign-up error:", error.message);
        });
    }

    // Function to sign in an existing user
    function signIn(email, password) {
      signInWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          console.log("User signed in:", user);
        })
        .catch((error) => {
          console.error("Sign-in error:", error.message);
        });
    }

    // Function to sign out the current user
    function signOut() {
      signOut(auth)
        .then(() => {
          console.log("User signed out");
        })
        .catch((error) => {
          console.error("Sign-out error:", error.message);
        });
    }

    // Check if the user is authenticated
    onAuthStateChanged(auth, (user) => {
      if (user) {
        // User is signed in
        console.log("User is signed in:", user);
        // Redirect or enable authenticated content
      } else {
        // User is signed out
        console.log("User is signed out");
        // Redirect or show login/signup options
      }
    });
  </script>
</head>

<body>

  <!-- Navbar -->
  <header>
    <nav>
      <div class="nav-wrapper">
        <a href="#" class="brand-logo">My Web App</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Services</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="container">
    <h1>Welcome to My Web Application</h1>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nec dui vel purus malesuada vehicula. Nunc vel
      velit ut ex vestibulum eleifend. Fusce sodales turpis non nibh fermentum, non auctor ligula congue.</p>

    <div class="row">
      <div class="col s12 m6">
        <div class="card">
          <div class="card-image">
            <img src="/img/fhsu-lockdown-centered.png" alt="Sample Image">
          </div>
          <div class="card-content">
            <p>This is a sample card with some dummy text. You can add more content here to describe your services or
              features.</p>
          </div>
        </div>
      </div>
      <div class="col s12 m6">
        <div class="card">
          <div class="card-image">
            <img src="/img/1576784929777.jpeg" alt="Sample Image">
          </div>
          <div class="card-content">
            <p>This is another sample card with some dummy text. You can customize this content based on your
              requirements.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Button Triggering Modal -->
    <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Open Modal</a>
  </main>

  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Modal Header</h4>
      <p>A bunch of text. You can add more content here to simulate a detailed modal description.</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat black-text">Agree</a>
    </div>
  </div>

  <!-- Footer -->
  <footer class="page-footer">
    <div class="container">
      <p>&copy; 2023 Web Application Prototype</p>
    </div>
  </footer>

  <!-- Include Materialize JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <!-- Initialize Modal -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var elems = document.querySelectorAll('.modal');
      var instances = M.Modal.init(elems);
    });

</body>
  </script>



</html>
